<!DOCTYPE html> <html lang=en style><!--
 Page saved with SingleFile 
 url: https://ianthehenry.com/posts/how-to-learn-nix/advanced-topics/ 
 saved date: Mon Jul 17 2023 13:35:04 GMT+0600 (Kyrgyzstan Time)
--><meta charset=utf-8>
<meta name=viewport content="initial-scale=1,maximum-scale=1">
<title>How to Learn Nix, Part 15: Advanced Topics</title>
<link rel=canonical href=https://ianthehenry.com/posts/how-to-learn-nix/advanced-topics/>
<style>:root{--box-radius:6px;--outer-box-radius:10px}:root{--content-bg:#fff;--gutter-bg:#eeeef3;--text-fg:#4d4d4c;--table-border-color:#ccc;--separator-color:#6d6d6c;--link:#07c;--link-visited:#751a9a;--blockquote-accent:var(--link);--footnote-accent:#ffd2a3;--subscribe-button-bg:#44e66c;--subscribe-button-fg:#11391b;--media-controls-on:#34b553;--media-controls-contrast:#fff;--inline-code-bg:#f3f3fa;--code-block-bg:#f3f3fa;--aside-bg:#f3f3fa;--aside-warning-bg:#fff5d1;--aside-warning-fg:#ac3233;--palette-red:#c82829;--palette-green:#718c00;--palette-yellow:#eab700;--palette-orange:#f5871f;--palette-blue:#4271ae;--palette-purple:#8959a8;--palette-teal:#3e999f;--palette-white:#fefefe;--palette-black:#000;--palette-text:var(--text-fg);--palette-dim:#8e908c;--highlight-bg:var(--palette-yellow);--highlight-fg:var(--text-fg)}#dmt::before{content:"🌖"}#dmt:hover::before{content:"🌗"}@media (prefers-color-scheme:dark){:root:not(.light-theme){--content-bg:#313233;--gutter-bg:#1d1f21;--text-fg:#d8d4cf;--table-border-color:#ccc;--separator-color:#6d6d6c;--link:rgb(82,183,255);--link-visited:rgb(193,104,229);--blockquote-accent:var(--link);--footnote-accent:#a8612f;--subscribe-button-bg:#44e66c;--subscribe-button-fg:#11391b;--media-controls-on:#44e66c;--media-controls-contrast:#11391b;--inline-code-bg:#3c4044;--code-block-bg:#1d1f21;--aside-bg:#3c4044;--aside-warning-bg:#fff5d1;--aside-warning-fg:var(--palette-red);--palette-red:#cc6666;--palette-green:#b5bd68;--palette-yellow:#f0c674;--palette-orange:#de935f;--palette-blue:#81a2be;--palette-purple:#b294bb;--palette-teal:#8abeb7;--palette-white:#fefefe;--palette-black:#000;--palette-text:var(--text-fg);--palette-dim:#969896;--highlight-bg:var(--palette-yellow);--highlight-fg:var(--palette-black)}:root:not(.light-theme) #dmt::before{content:"🌒"}:root:not(.light-theme) #dmt:hover::before{content:"🌓"}}#dmt{width:30px;text-align:right;padding-right:4px;position:absolute;top:0;bottom:0;right:0;border:none;background-color:inherit;cursor:pointer}*{margin:0;padding:0;font:inherit;box-sizing:border-box}html{background-color:var(--gutter-bg);color:var(--text-fg)}body{font-family:system-ui,sans-serif;font-size:12pt;line-height:1.8;word-wrap:break-word}body:not(.content-page) main>aside{padding:0 var(--content-padding)}body.content-page main,body:not(.content-page) article{background-color:var(--content-bg);border-radius:var(--outer-box-radius);padding:var(--content-padding)}pre{word-wrap:normal}em,i{font-style:italic}h1>a:only-child,h2>a:only-child{display:block}main .subsection-header+.post-list{margin-top:0}strong{font-weight:700}ol,ul{padding-left:3ch}hr{border-style:solid;border-width:1.5px 0 0;border-radius:1px;border-color:var(--separator-color)}:not(pre)>code{white-space:pre;background-color:var(--inline-code-bg)}li{padding-left:0}blockquote{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}a,a:active,a:visited{text-decoration:none}a:hover{text-decoration:underline}blockquote{padding:0 0 0 var(--content-padding);border-left:solid 2px var(--blockquote-accent)}aside{--content-padding:0.5em;padding:.5em;border-radius:var(--box-radius);background-color:var(--aside-bg)}a,a:active,header a:visited,footer a:visited,h1 a:visited{color:var(--link)}a:visited{color:var(--link-visited)}h1{font-size:130%}main *+p,main *+pre,main *+aside,main *+article,main *+blockquote,main *+div,main *+ul,main *+hr,main *+h1{margin-top:1em}main pre+pre{margin-top:1px}main .post-header *+h1{margin-top:0}code{font-family:Menlo,monospace;padding:0 3px;border-radius:2px}pre{background-color:var(--code-block-bg);font-size:11pt;padding:calc(.75*var(--content-padding)) var(--content-padding);line-height:1.3;border-radius:var(--box-radius);overflow-x:scroll;-webkit-overflow-scrolling:touch}pre code{padding:0;border-radius:0;display:inline-block;background-color:initial}p+p{margin-top:1em}body{margin:0 auto;--content-padding:10px;max-width:768px;-webkit-text-size-adjust:100%;position:relative}header{position:relative}header>*{height:48px;line-height:48px}.promo,.promo:visited,.promo:active{display:block;text-align:center;background-color:var(--link);color:var(--code-block-bg);border-radius:0 0 var(--outer-box-radius) var(--outer-box-radius)}header .site-title{font-size:130%}header nav{position:absolute;right:30px;top:0}@media all and (max-width:400px){:root{--outer-box-radius:0}header{text-align:center}header nav{position:static}:not(pre)>code{white-space:pre-wrap}body{--content-padding:10px}#dmt{padding:0;text-align:center;width:40px}}header ul{padding:0}header li{list-style:none;display:inline-block}header a{display:block;height:100%}header li+li{margin-left:1em}footer{padding:2em 0;font-size:.85em;text-align:center}article h1.post-title{font-size:200%}article .post-title a{display:block}article .meta{font-size:90%;font-style:italic}.post-header h1{line-height:1.2em;margin-bottom:.5em}.post-footer{text-align:center}.post-footer a{display:block}ol.post-list{list-style-position:inside;padding:0}.series-rider .series-name{font-style:italic}.highlight{color:var(--palette-text)}.highlight .nb{color:var(--palette-text)}.highlight .nv{color:var(--palette-red)}.highlight .s1{color:var(--palette-green)}</style>
<meta property=og:title content="How to Learn Nix, Part 15: Advanced Topics">
<meta property=og:type content=website>
<meta property=og:url content=https://ianthehenry.com/posts/how-to-learn-nix/advanced-topics/>
<meta name=description content="Oh gosh oh gosh. I don’t know if I’m ready.
It’s time for Part V: Advanced Topics.">
<meta property=og:description content="Oh gosh oh gosh. I don’t know if I’m ready.
It’s time for Part V: Advanced Topics.">
<meta property=og:image content=https://ianthehenry.com/checkerboard.png>
<meta name=twitter:creator content=@ianthehenry>
<meta name=twitter:card content=summary>
<link type=image/x-icon rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAHH1uIDShg/xEsZv8GFk3/CSJb/wgZT/8IGU//CBlP/wkiW/8HGE7/CBlP/wkiW/8HIFX/BxhO/wcgVf8OK2t7JDhz/wcfW/8NNn7/CSpq/wkjYf8MJGP/DCJg/w02ef9SqdX/TKHJ/1my2f9Moc3/UqzV/1Cr1v9Pocf/Ditr/xk2cf8KJGL/CjR8/wwva/8RK2r/Cido/w8qa/8LLW//TqjT/1Gnz/9bsNf/Sp/K/1Wt2f9Wrtj/UKjQ/w8xc/8gPHj/Di5w/xk4ef8TL27/Dy5u/xU3fv8QLGv/Ditr/1qy3f9dttv/Yrje/0ecx/9Knsz/U6fQ/1m13f8YN3n/JjZx/wszdv8YOXz/Eilm/xc3e/8dSZT/GDJz/xk/hv9hu+P/WbHZ/1mv1v9Kn8z/WLHd/1212v9ds9n/Eipr/xcqYv8SOX3/GzRz/xQrZ/8aM3D/HEuU/xc0df8fPYD/Yrre/1603P9dt9z/VKvY/1iz4v9etNr/Y73m/xk5fP8cMm3/JEWK/xc0dP8eO3v/Hjd4/ydRnP8WM3P/Gjd3/2bA5/9dtd//Ybng/2K95v9ct+P/Ybnf/2K95/8oS5L/GChg/xxBh/8lSIz/GC5s/yM5ev8hRoz/HTp7/yE6e/9Zsdz/YLzn/2jF7v9ryfL/YLzn/1qu1f9htdz/GDyD/y0/ev9qx/X/acDn/1235v9euun/Yb3r/1665v9owu7/GUOL/yhGh/8nUJL/MkmI/yBFiP8jOHb/MVag/yM+gv8VMGv/acXx/27G7/9szv3/bMb1/2zD6/9vy/X/edf5/yBHjv8yS47/JEuO/zVLiv8nS5D/LkOB/yRXpP8lQoT/H0WI/3fS+P910Pf/b8/8/2bB7/991Pn/eNb+/3nT+P8pS5L/O1GS/ytUnP86UJH/NF2k/zNLjP8sXKv/JkCB/x4+ff+B2/3/etT9/4He//922f//fNf//3TT//991/7/NU6N/zZSkP86Zav/PlWR/zFepv88ZKb/MF2n/yQ/gf8bNXH/fd3//3/b//+K6P//ft///3vV//993f//gdz//0hWlf9FZKX/RmOj/0JXlv9IeMP/QXKz/0Jsuf8eO3z/Hjt2/3vd//+C3v//ju3//3zg//+H4v//guL//4nj//9HXp3/UGur/ztgqf9JYqP/S3G4/05ur/9EbLT/Hjt7/zNJhf+G4///heT//4rq//+E5///iOT//4jr//+G4///UXO0/09iov9EX6H/SWWn/1V5wP9Kaa7/RGSp/ydLj/8NKGCfDShg/x8+d/8RLGb/CBlP/wYWTf8GFEj/CBNH/wooZP8JIlv/CCJd/woWSf8HGE7/ByBV/wwgU/8fO3mfAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body class=content-page>
<a class=promo href=https://janet.guide/ target=_blank><i>psst, hey kid, wanna read a weird programming book</i></a>
<header>
<a class=site-title href=https://ianthehenry.com/>Ian Henry</a>
<nav>
<ul><li><a href=https://ianthehenry.com/about/>About</a><li><a href=https://ianthehenry.com/posts/>Blog</a><li><a href=https://ianthehenry.com/stuff/>Stuff</a></ul>
</nav>
<button id=dmt title="Toggle dark mode"></button>
</header>
<main>
<aside class=series-rider>
<p>This post is part of the series <a class=series-name href=https://ianthehenry.com/posts/how-to-learn-nix/>How to Learn Nix</a>, a rambling diary in which I work my way through the Nix manual in excrutiating detail.</p>
</aside>
<article class=post>
<div class=post-header>
<time class=meta datetime=2021-03-13>March 13, 2021</time>
<h1 class=post-title>
<a href=https://ianthehenry.com/posts/how-to-learn-nix/advanced-topics/>How to Learn Nix, Part&nbsp;15:<br>Advanced Topics</a></h1>
</div>
<div class=post-content><p>Oh gosh oh gosh. I don’t know if I’m ready.</p>
<p>It’s time for <a href=https://web.archive.org/web/20210227145624/https://nixos.org/manual/nix/stable/#part-advanced-topics>Part V: Advanced Topics</a>.</p>
<h1 id=chapter-16-remote-buildshttpswebarchiveorgweb20210227145624httpsnixosorgmanualnixstablechap-distributed-builds><a href=https://web.archive.org/web/20210227145624/https://nixos.org/manual/nix/stable/#chap-distributed-builds>Chapter 16. Remote Builds</a></h1>
<p>I try not to panic.</p>
<p>We open on an example.</p>
<blockquote>
<pre><code>$ nix ping-store --store ssh://mac
</code></pre>
</blockquote>
<p>Curious, I try out my NixOS VPS, who is named <code>claudius</code>:</p>
<pre><code>$ nix ping-store --store ssh://claudius

$ echo $?
0
</code></pre>
<p>Okay? It’s nice to see <code>nix</code> commands in this section. I think it’s the first time!</p>
<p>It shows me an example of how to build a Mac package on a Linux box. I reverse it, because I am on a Mac.</p>
<pre tabindex=0><code>$ nix build \
  '(with import &lt;nixpkgs&gt; { system = "x86_64-linux"; }; runCommand "foo" {} "uname &gt; $out")' \
  --builders 'ssh://claudius x86_64-linux'
error: unexpected end-of-file
builder for '/nix/store/ybjbbry0qn7i5m7hnbk8xgss0xi2wnl5-foo.drv' failed with exit code 1; last 1 log lines:
  error: you are not privileged to build derivations
[0 built (1 failed), 58 copied (75.1 MiB), 5.3 MiB DL]
error: build of '/nix/store/ybjbbry0qn7i5m7hnbk8xgss0xi2wnl5-foo.drv' failed
</code></pre><p>Boo. Hmm. There’s nothing in the manual about this.</p>
<p>Let’s try something more real:</p>
<pre tabindex=0><code>$ nix build \
  '(import &lt;nixpkgs&gt; { system = "x86_64-linux"; }).hello' \
  --builders 'ssh://claudius x86_64-linux'
[4 copied (31.6 MiB), 6.6 MiB DL]
</code></pre><pre tabindex=0><code>$ readlink result
/nix/store/rws0aijh8x80wv065qwi1kw53cmfmil3-hello-2.10
</code></pre><pre tabindex=0><code>$ file result/bin/hello
result/bin/hello: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /nix/store/3wa1xwnfv8ada1za1r8m4vmsiz1jifqq-glibc-2.32-35/lib/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, not stripped
</code></pre><p>Okay, <em>that</em> works? That didn’t need permission? Huh?</p>
<p>I wonder if this is because I had already built <code>hello</code> on the remote machine, so nothing actually happened. I remove it and collect garbage. And then remember that I need to remove the <code>gcroots</code>, and collect garbage again. I do this on both my local machine and the remote machine, as a sort of superstitious tic because I don’t really understand what’s going on.</p>
<pre tabindex=0><code>$ nix build \
  '(import &lt;nixpkgs&gt; { system = "x86_64-linux"; }).hello' \
  --builders 'ssh://claudius x86_64-linux'
[4 copied (31.6 MiB), 6.6 MiB DL]
</code></pre><p>Still works! Huh?</p>
<p>Why doesn’t the other thing work? I can run it locally without any trouble:</p>
<pre tabindex=0><code>$ nix build '(import &lt;nixpkgs&gt; {}).runCommand "foo" {} "uname &gt; $out"'
[1 built, 11 copied (4.5 MiB), 1.3 MiB DL]
</code></pre><pre tabindex=0><code>$ cat result
Darwin
</code></pre><p>Okay. Hmm.</p>
<pre tabindex=0><code>$ nix build \
    '(import &lt;nixpkgs&gt; { system = "x86_64-linux"; }).runCommand "foo" {} "uname &gt; $out"'
[25 copied (53.2 MiB), 11.9 MiB DL]
error: a 'x86_64-linux' with features {} is required to build '/nix/store/ybjbbry0qn7i5m7hnbk8xgss0xi2wnl5-foo.drv', but I am a 'x86_64-darwin' with features {benchmark, big-parallel, nixos-test}
</code></pre><p>Okay. That was a sanity check – and it did not work, as expected. Now another sanity check:</p>
<pre tabindex=0><code>$ nix build '(import &lt;nixpkgs&gt; { system = "x86_64-linux"; }).hello'
[4 copied (31.6 MiB), 6.6 MiB DL]
</code></pre><p>Ohhhhh. I see. I’m getting this from the binary cache, aren’t I? Yes. That makes sense. That’s why the example uses a dynamic derivation – got it got it.</p>
<p><code>man nix-build</code> has no hints about this. But <code>man 5 nix.conf</code> does: I think this is because my NixOS machine uses “multi-user” Nix, and it’s a whole thing. I learn that I should make a new build user. But, this being NixOS, I don’t remember <em>how</em>. I mean, I actually do – it’s really very nice to manage users and groups in NixOS, relative to “normal” Linuxes – but I’ll pretend that I don’t, for now.</p>
<p>Anyway. I will not bother setting this up right now. Maybe one day.</p>
<p>I read about the options. Highlights:</p>
<blockquote>
<p>The “speed factor,” indicating the relative speed of the machine. If there are multiple machines of the right type, Nix will prefer the fastest, taking load into account.</p>
</blockquote>
<p>Neat!</p>
<blockquote>
<p>To build only on remote builders and disable building on the local machine, you can use the option <code>--max-jobs 0</code>.</p>
</blockquote>
<p>Maybe also neat.</p>
<h1 id=chapter-17-tuning-cores-and-jobshttpswebarchiveorgweb20210227145624httpsnixosorgmanualnixstablechap-tuning-cores-and-jobs><a href=https://web.archive.org/web/20210227145624/https://nixos.org/manual/nix/stable/#chap-tuning-cores-and-jobs>Chapter 17. Tuning Cores and Jobs</a></h1>
<p>This isn’t really… this is an incredibly short chapter. It says what you’d expect. You can configure cores and jobs, in the ways you’d expect.</p>
<blockquote>
<p>It is up to the derivations' build script to respect host’s requested cores-per-build by following the value of the <code>NIX_BUILD_CORES</code> environment variable.</p>
</blockquote>
<p>Nothin' magic here.</p>
<h1 id=chapter-18-verifying-build-reproducibility-with-diff-hookhttpswebarchiveorgweb20210227145624httpsnixosorgmanualnixstablechap-diff-hook><a href=https://web.archive.org/web/20210227145624/https://nixos.org/manual/nix/stable/#chap-diff-hook>Chapter 18. Verifying Build Reproducibility with <code>diff-hook</code></a></h1>
<p>Ooookay.</p>
<blockquote>
<p>this hook is only executed if the results are not the same, this hook is not used for determining if the results are the same.</p>
</blockquote>
<p>Semicolon police.</p>
<p>I can run a custom program if a build doesn’t match? Why would I do that? Set it up to send me an email, or something? I dunno.</p>
<p>I can pass <code>--check</code> to <code>nix-build</code> to try re-building a derivation that I already have, and see if it produces the same output. Neat.</p>
<blockquote>
<p>Using <code>--check</code> with <code>--keep-failed</code> will cause Nix to keep the second build’s output in a special, <code>.check</code> path</p>
</blockquote>
<p>Okay; that’s neat. And I learn that <code>.check</code> paths will always be garbage collected.</p>
<p>I also learn that I can set up Nix to automatically build derivations multiple times and only succeed if the build is deterministic. That’s neat.</p>
<h1 id=chapter-19-using-thehttpswebarchiveorgweb20210227145624httpsnixosorgmanualnixstablechap-post-build-hook><a href=https://web.archive.org/web/20210227145624/https://nixos.org/manual/nix/stable/#chap-post-build-hook>Chapter 19. Using the</a></h1>
<p>That is… that is the chapter title. I didn’t truncate it.</p>
<p>It seems to be about uploading build results to S3?</p>
<p>No: this chapter is referred to as “Using the <code>post-build-hook</code>” elsewhere in the manual. I guess the monospace formatting doesn’t work in a title? But it worked in the last chapter. Huh. Whatever is generating this manual seems to have choked?</p>
<p><em>Anyway</em>.</p>
<blockquote>
<p>The post build hook program runs after each executed build, and blocks the build loop. The build loop exits if the hook program fails.</p>
</blockquote>
<p>Okay. So don’t do network stuff, if you don’t want to block on network stuff. I’m not gonna read about S3 because I’m not gonna use S3.</p>
<p>The example shows that Nix has support for <code>s3://</code> paths in substituters. Weird. Never seen that before. Never really had to use S3! I mean, not in like… eight years? Be a shame to break the streak now.</p>
<p>Some more <code>nix</code> commands I’ve never seen before in that example, though:</p>
<blockquote>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>nix sign-paths --key-file /etc/nix/key.private <span class=nv>$OUT_PATHS</span>
<span class=nb>exec</span> nix copy --to <span class=s1>'s3://example-nix-cache'</span> <span class=nv>$OUT_PATHS</span>
</code></pre></div></blockquote>
<p>I also see <code>nix store --realize /nix/store/ibcyipq5gf91838ldx40mjsp0b8w9n18-example</code>, which appears to be a way to get paths in the store from the cache?</p>
<pre tabindex=0><code>$ nix store --help
error: 'store' is not a recognised command
Try 'nix --help' for more information.
</code></pre><p>Sad trombone sound.</p>
<p><code>man nix-store</code> says nothing about <code>--realize</code>, so I have no idea what command is supposed to mean or be.</p>
<p>But <code>nix-store --realize</code> seems to <em>be</em> a command, just undocumented in the man page?</p>
<pre tabindex=0><code>$ nix-store --realize /nix/store/ibcyipq5gf91838ldx40mjsp0b8w9n18-example
don't know how to build these paths:
  /nix/store/ibcyipq5gf91838ldx40mjsp0b8w9n18-example
error: build of '/nix/store/ibcyipq5gf91838ldx40mjsp0b8w9n18-example' failed
</code></pre><p>I think that’s a first.</p>
<p>Ah. Ha. No. <code>--realize</code> exists, but it’s documented in the man page as <code>--realise</code>, so my search didn’t find it.</p>
<blockquote>
<p>The operation <code>--realise</code> essentially “builds” the specified store paths.</p>
</blockquote>
<p>Okay. Hmm.</p>
<p>Anyway, we can do stuff any time we build anything, and we learn how to sign and configure our own binary cache – which is, really, pretty cool, even though I did not do it.</p>
<hr>
<ul>
<li>Is there any difference between <code>nix-build</code> and <code>nix build</code>?</li>
</ul></div>
</article>
<div class=post-footer>
<a href="mailto:ianthehenry@gmail.com?subject=let%27s%20talk%20about%20%22Advanced%20Topics%22&amp;body=First%20of%20all,%20I%20just%20wanted%20to%20say%20that%20I%20forgive%20you%20for%20not%20having%20a%20real%20comment%20system%20on%20your%20site.">comment on this post</a><a href=https://ianthehenry.com/posts/how-to-learn-nix/command-reference/>Next up ➜ Command Reference</a></div>
<aside class=series-rider>
<p>
This post is part of the series <a class=series-name href=https://ianthehenry.com/posts/how-to-learn-nix/>How to Learn Nix</a>.
You can
<a target=_blank href=https://ianthehenry.com/feed.xml>subscribe to my RSS feed</a>
or
<a target=_blank href=https://twitter.com/ianthehenry>follow me on Twitter</a>
for more, or <a href=https://ianthehenry.com/posts/>peruse my back catalog</a> if you're in the mood for something different.
<div class=subsection-header>Opening remarks</div><ol start=1 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/introduction/>What's all this about?</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/prior-knowledge/>Prior knowledge</a></li>
</ol><div class=subsection-header>Reading the Nix manual</div><ol start=3 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/glossary/>What we talk about when we talk about Nix</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/quick-start-guide/>Quick starts, full hearts</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/basic-package-management/>Basic package management</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/profiles/>Profiles</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/garbage-collection/>Garbage collection</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/channels/>Channels</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/sharing/>Learning to share</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-derivation/>My first derivation</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/okay-my-actual-first-derivation/>Okay my actual first derivation</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-language/>The Nix expression language</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/derivations/>Derivations</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/built-in-functions/>Built-in Functions</a></li>
<li><strong><a href=https://ianthehenry.com/posts/how-to-learn-nix/advanced-topics/>Advanced Topics</a></strong>&nbsp;←&nbsp;you are here</li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/command-reference/>Command Reference</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/configuration/>Configuration</a></li>
</ol><div class=subsection-header>Interlude: in which we follow our hearts, however briefly</div><ol start=18 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-manual-reflection/>So I read the manual huh</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/>Switching from Homebrew to Nix</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-nix-bug/>My first Nix bug</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-package-upgrade/>My first package upgrade</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/declarative-user-environment/>Setting up a declarative user environment</a></li>
</ol><div class=subsection-header>Reading the Nixpkgs manual</div><ol start=23 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/how-to-learn-nixpkgs/>How to learn Nixpkgs</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/overlays/>Overlays</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/overriding/>Overriding</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/an-infinite-list-of-functions/>An infinite list of functions</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/even-more-functions-somehow/>Even more functions, somehow</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/the-standard-environment/>The standard environment</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/derivations-in-detail/>Derivations in detail</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/cross-compilation/>Cross-compilation</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/platform-notes/>Platform notes</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/builders/>Builders</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/languages-and-frameworks/>Languages and frameworks</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/random-package-grab-bag/>Random package grab-bag</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/how-to-give-back/>How to give back</a></li>
</ol><div class=subsection-header>Documentation behind us, we set out on our own</div><ol start=36 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nixpkgs-reflection/>So I read the other manual, huh</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/saving-your-shell/>Saving your shell</a></li>
</ol><div class=subsection-header>Oh right forgot about Nix Pills</div><ol start=38 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-pills/>Nix Pills</a></li>
</ol><div class=subsection-header>Our whole lives ahead of us</div><ol start=39 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/python3-alpha/>How to install Python</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/open-questions/>Open questions</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/ambiguous-packages/>Ambiguous packages</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-zshell/>Running zsh in nix-shell</a></li>
</ol><div class=subsection-header>Nix 2.4 slithers to life</div><ol start=43 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/flakes/>My first brush with flakes</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/more-flakes/>More flakes, unfortunately</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/new-profiles/>Fancy new profiles</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/chipping-away-at-flakes/>Chipping away at flakes</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-develop/>New and unimproved shells</a></li>
</ol>
</aside>
</main>
<footer>
© 1899-1907 <a href=https://ianthehenry.com/about/>Ian Henry</a>
</footer>
