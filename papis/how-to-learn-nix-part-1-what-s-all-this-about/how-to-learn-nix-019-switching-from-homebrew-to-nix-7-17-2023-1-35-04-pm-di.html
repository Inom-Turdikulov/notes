<!DOCTYPE html> <html lang=en style><!--
 Page saved with SingleFile 
 url: https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/ 
 saved date: Mon Jul 17 2023 13:35:04 GMT+0600 (Kyrgyzstan Time)
--><meta charset=utf-8>
<meta name=viewport content="initial-scale=1,maximum-scale=1">
<title>How to Learn Nix, Part 19: Switching from Homebrew to Nix</title>
<link rel=canonical href=https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/>
<style>:root{--box-radius:6px;--outer-box-radius:10px}:root{--content-bg:#fff;--gutter-bg:#eeeef3;--text-fg:#4d4d4c;--table-border-color:#ccc;--separator-color:#6d6d6c;--link:#07c;--link-visited:#751a9a;--blockquote-accent:var(--link);--footnote-accent:#ffd2a3;--subscribe-button-bg:#44e66c;--subscribe-button-fg:#11391b;--media-controls-on:#34b553;--media-controls-contrast:#fff;--inline-code-bg:#f3f3fa;--code-block-bg:#f3f3fa;--aside-bg:#f3f3fa;--aside-warning-bg:#fff5d1;--aside-warning-fg:#ac3233;--palette-red:#c82829;--palette-green:#718c00;--palette-yellow:#eab700;--palette-orange:#f5871f;--palette-blue:#4271ae;--palette-purple:#8959a8;--palette-teal:#3e999f;--palette-white:#fefefe;--palette-black:#000;--palette-text:var(--text-fg);--palette-dim:#8e908c;--highlight-bg:var(--palette-yellow);--highlight-fg:var(--text-fg)}#dmt::before{content:"🌖"}#dmt:hover::before{content:"🌗"}@media (prefers-color-scheme:dark){:root:not(.light-theme){--content-bg:#313233;--gutter-bg:#1d1f21;--text-fg:#d8d4cf;--table-border-color:#ccc;--separator-color:#6d6d6c;--link:rgb(82,183,255);--link-visited:rgb(193,104,229);--blockquote-accent:var(--link);--footnote-accent:#a8612f;--subscribe-button-bg:#44e66c;--subscribe-button-fg:#11391b;--media-controls-on:#44e66c;--media-controls-contrast:#11391b;--inline-code-bg:#3c4044;--code-block-bg:#1d1f21;--aside-bg:#3c4044;--aside-warning-bg:#fff5d1;--aside-warning-fg:var(--palette-red);--palette-red:#cc6666;--palette-green:#b5bd68;--palette-yellow:#f0c674;--palette-orange:#de935f;--palette-blue:#81a2be;--palette-purple:#b294bb;--palette-teal:#8abeb7;--palette-white:#fefefe;--palette-black:#000;--palette-text:var(--text-fg);--palette-dim:#969896;--highlight-bg:var(--palette-yellow);--highlight-fg:var(--palette-black)}:root:not(.light-theme) #dmt::before{content:"🌒"}:root:not(.light-theme) #dmt:hover::before{content:"🌓"}}#dmt{width:30px;text-align:right;padding-right:4px;position:absolute;top:0;bottom:0;right:0;border:none;background-color:inherit;cursor:pointer}*{margin:0;padding:0;font:inherit;box-sizing:border-box}html{background-color:var(--gutter-bg);color:var(--text-fg)}body{font-family:system-ui,sans-serif;font-size:12pt;line-height:1.8;word-wrap:break-word}body:not(.content-page) main>aside{padding:0 var(--content-padding)}body.content-page main,body:not(.content-page) article{background-color:var(--content-bg);border-radius:var(--outer-box-radius);padding:var(--content-padding)}pre{word-wrap:normal}em,i{font-style:italic}sup{font-size:75%}sup a::before{content:"["}sup a::after{content:"]"}h1>a:only-child,h2>a:only-child{display:block}main .subsection-header+.post-list{margin-top:0}strong{font-weight:700}ol,ul{padding-left:3ch}.footnotes>ol{margin-top:1em}.footnotes li:not(.highlight){transition:background-color 1s}hr{border-style:solid;border-width:1.5px 0 0;border-radius:1px;border-color:var(--separator-color)}:not(pre)>code{white-space:pre;background-color:var(--inline-code-bg)}li{padding-left:0}blockquote{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}a,a:active,a:visited{text-decoration:none}a:hover{text-decoration:underline}blockquote{padding:0 0 0 var(--content-padding);border-left:solid 2px var(--blockquote-accent)}aside{--content-padding:0.5em;padding:.5em;border-radius:var(--box-radius);background-color:var(--aside-bg)}a,a:active,header a:visited,footer a:visited,h1 a:visited{color:var(--link)}a:visited{color:var(--link-visited)}a.footnote-ref:visited,a.footnote-backref:visited,.notation-help-link-container a:visited{color:var(--link)}h1{font-size:130%}main *+p,main *+pre,main *+aside,main *+section,main *+article,main *+blockquote,main *+div,main *+ul,main *+hr,main *+h1{margin-top:1em}main pre+div.highlight{margin-top:1px}main .post-header *+h1{margin-top:0}code{font-family:Menlo,monospace;padding:0 3px;border-radius:2px}pre{background-color:var(--code-block-bg);font-size:11pt;padding:calc(.75*var(--content-padding)) var(--content-padding);line-height:1.3;border-radius:var(--box-radius);overflow-x:scroll;-webkit-overflow-scrolling:touch}pre code{padding:0;border-radius:0;display:inline-block;background-color:initial}p+p{margin-top:1em}body{margin:0 auto;--content-padding:10px;max-width:768px;-webkit-text-size-adjust:100%;position:relative}header{position:relative}header>*{height:48px;line-height:48px}.promo,.promo:visited,.promo:active{display:block;text-align:center;background-color:var(--link);color:var(--code-block-bg);border-radius:0 0 var(--outer-box-radius) var(--outer-box-radius)}header .site-title{font-size:130%}header nav{position:absolute;right:30px;top:0}@media all and (max-width:400px){:root{--outer-box-radius:0}header{text-align:center}header nav{position:static}:not(pre)>code{white-space:pre-wrap}body{--content-padding:10px}#dmt{padding:0;text-align:center;width:40px}}header ul{padding:0}header li{list-style:none;display:inline-block}header a{display:block;height:100%}header li+li{margin-left:1em}footer{padding:2em 0;font-size:.85em;text-align:center}article h1.post-title{font-size:200%}article .post-title a{display:block}article .meta{font-size:90%;font-style:italic}.post-header h1{line-height:1.2em;margin-bottom:.5em}.post-footer{text-align:center}.post-footer a{display:block}ol.post-list{list-style-position:inside;padding:0}.series-rider .series-name{font-style:italic}.highlight{color:var(--palette-text)}.highlight .err{color:var(--palette-red)}.highlight .p{color:var(--palette-text)}.highlight .kc{color:var(--palette-purple)}.highlight .nt{color:var(--palette-teal)}.highlight .s2{color:var(--palette-green)}</style>
<meta property=og:title content="How to Learn Nix, Part 19: Switching from Homebrew to Nix">
<meta property=og:type content=website>
<meta property=og:url content=https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/>
<meta name=description content="I don’t feel like I know enough about Nix to manage my own build dependencies with it, but I do feel like I know enough to use Nix as a simple package manager. I use Homebrew on my laptop, and at this point I definitely know more about Nix than I do about Homebrew.1
Why would I switch away from Homebrew? Mostly because I think it will be educational. I don’t really have anything against Homebrew. It works. It has a lot of the packages I want. It does break more often than I’d like – not, like, often, but any time I go more than a year or so without using a particular computer I know that I’m going to return to some bizarre Ruby error that I have to spend half an hour figuring out before I can do anything.
And there’s no way that Nix would ever play me like that.">
<meta property=og:description content="I don’t feel like I know enough about Nix to manage my own build dependencies with it, but I do feel like I know enough to use Nix as a simple package manager. I use Homebrew on my laptop, and at this point I definitely know more about Nix than I do about Homebrew.1
Why would I switch away from Homebrew? Mostly because I think it will be educational. I don’t really have anything against Homebrew. It works. It has a lot of the packages I want. It does break more often than I’d like – not, like, often, but any time I go more than a year or so without using a particular computer I know that I’m going to return to some bizarre Ruby error that I have to spend half an hour figuring out before I can do anything.
And there’s no way that Nix would ever play me like that.">
<meta property=og:image content=https://ianthehenry.com/checkerboard.png>
<meta name=twitter:creator content=@ianthehenry>
<meta name=twitter:card content=summary>
<link type=image/x-icon rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAHH1uIDShg/xEsZv8GFk3/CSJb/wgZT/8IGU//CBlP/wkiW/8HGE7/CBlP/wkiW/8HIFX/BxhO/wcgVf8OK2t7JDhz/wcfW/8NNn7/CSpq/wkjYf8MJGP/DCJg/w02ef9SqdX/TKHJ/1my2f9Moc3/UqzV/1Cr1v9Pocf/Ditr/xk2cf8KJGL/CjR8/wwva/8RK2r/Cido/w8qa/8LLW//TqjT/1Gnz/9bsNf/Sp/K/1Wt2f9Wrtj/UKjQ/w8xc/8gPHj/Di5w/xk4ef8TL27/Dy5u/xU3fv8QLGv/Ditr/1qy3f9dttv/Yrje/0ecx/9Knsz/U6fQ/1m13f8YN3n/JjZx/wszdv8YOXz/Eilm/xc3e/8dSZT/GDJz/xk/hv9hu+P/WbHZ/1mv1v9Kn8z/WLHd/1212v9ds9n/Eipr/xcqYv8SOX3/GzRz/xQrZ/8aM3D/HEuU/xc0df8fPYD/Yrre/1603P9dt9z/VKvY/1iz4v9etNr/Y73m/xk5fP8cMm3/JEWK/xc0dP8eO3v/Hjd4/ydRnP8WM3P/Gjd3/2bA5/9dtd//Ybng/2K95v9ct+P/Ybnf/2K95/8oS5L/GChg/xxBh/8lSIz/GC5s/yM5ev8hRoz/HTp7/yE6e/9Zsdz/YLzn/2jF7v9ryfL/YLzn/1qu1f9htdz/GDyD/y0/ev9qx/X/acDn/1235v9euun/Yb3r/1665v9owu7/GUOL/yhGh/8nUJL/MkmI/yBFiP8jOHb/MVag/yM+gv8VMGv/acXx/27G7/9szv3/bMb1/2zD6/9vy/X/edf5/yBHjv8yS47/JEuO/zVLiv8nS5D/LkOB/yRXpP8lQoT/H0WI/3fS+P910Pf/b8/8/2bB7/991Pn/eNb+/3nT+P8pS5L/O1GS/ytUnP86UJH/NF2k/zNLjP8sXKv/JkCB/x4+ff+B2/3/etT9/4He//922f//fNf//3TT//991/7/NU6N/zZSkP86Zav/PlWR/zFepv88ZKb/MF2n/yQ/gf8bNXH/fd3//3/b//+K6P//ft///3vV//993f//gdz//0hWlf9FZKX/RmOj/0JXlv9IeMP/QXKz/0Jsuf8eO3z/Hjt2/3vd//+C3v//ju3//3zg//+H4v//guL//4nj//9HXp3/UGur/ztgqf9JYqP/S3G4/05ur/9EbLT/Hjt7/zNJhf+G4///heT//4rq//+E5///iOT//4jr//+G4///UXO0/09iov9EX6H/SWWn/1V5wP9Kaa7/RGSp/ydLj/8NKGCfDShg/x8+d/8RLGb/CBlP/wYWTf8GFEj/CBNH/wooZP8JIlv/CCJd/woWSf8HGE7/ByBV/wwgU/8fO3mfAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body class=content-page>
<a class=promo href=https://janet.guide/ target=_blank><i>psst, hey kid, wanna read a weird programming book</i></a>
<header>
<a class=site-title href=https://ianthehenry.com/>Ian Henry</a>
<nav>
<ul><li><a href=https://ianthehenry.com/about/>About</a><li><a href=https://ianthehenry.com/posts/>Blog</a><li><a href=https://ianthehenry.com/stuff/>Stuff</a></ul>
</nav>
<button id=dmt title="Toggle dark mode"></button>
</header>
<main>
<aside class=series-rider>
<p>This post is part of the series <a class=series-name href=https://ianthehenry.com/posts/how-to-learn-nix/>How to Learn Nix</a>, a rambling diary in which I work my way through the Nix manual in excrutiating detail.</p>
</aside>
<article class=post>
<div class=post-header>
<time class=meta datetime=2021-03-17>March 17, 2021</time>
<h1 class=post-title>
<a href=https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/>How to Learn Nix, Part&nbsp;19:<br>Switching from Homebrew to Nix</a></h1>
</div>
<div class=post-content><p>I don’t feel like I know enough about Nix to manage my own build dependencies with it, but I do feel like I know enough to use Nix as a simple package manager. I use Homebrew on my laptop, and at this point I definitely know more about Nix than I do about Homebrew.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p>
<p>Why would I switch away from Homebrew? Mostly because I think it will be educational. I don’t really have anything against Homebrew. It works. It has a lot of the packages I want. It does break more often than I’d like – not, like, <em>often</em>, but any time I go more than a year or so without using a particular computer I know that I’m going to return to some bizarre Ruby error that I have to spend half an hour figuring out before I can do anything.</p>
<p>And there’s <em>no way</em> that Nix would ever play me like that.</p>
<p>Homebrew doesn’t seem to distinguish between “packages I want to have installed” and “packages I have to have installed because they are dependencies of other packages.”</p>
<p>I remember this bothering me before. It’s bothering me a lot right now, as I try to get rid of it.</p>
<p>When I type <code>brew list</code> to see installed packages, I get like hundreds of entries – only a couple dozen of which I actually remember installing. I have to go through it by hand to figure out what I actually <em>want</em> to have.</p>
<p>Here’s what I find:</p>
<pre><code>cabal-install
curl
fzf
git
haskell-stack
hexedit
htop
hugo
imagemagick
jq
mercurial
nasm
nmap
node
nodenv
opam
openssl
pandoc
pngcrush
pv
pyenv
python@2
python@3.9
rbenv
ripgrep
sqlite
terminal-notifier
tmux
tree
xz
yarn
yasm
zsh
</code></pre>
<p>33 packages. Not that many! I’m a little surprised. But I haven’t <em>really</em> done any development on this computer in a few years. Whatever I don’t need to justify myself to you.</p>
<p>Let’s try to <code>nix-env -iA nixpkgs.*</code> them.</p>
<pre tabindex=0><code>$ nix-env -iA nixpkgs.{cabal-install,curl,fzf,git,haskell-stack,...}
</code></pre><p>And… it worked? Mostly?</p>
<p>I am kind of surprised to report that <em>almost all</em> of these just worked. Some of the packages had different names – <code>node</code> is called <code>nodejs</code>, and <code>python</code> is <code>python2</code> and <code>python3</code>, for example – but otherwise it was super smooth. The only missing packages are <code>nodenv</code> and <code>pyenv</code> – which seems fair. If you’re using Nix, you don’t need those.</p>
<p>Well, no, that’s not true: you might want to make something that works for people who <em>aren’t</em> using Nix, so you still want to distribute a <code>.python-version</code> file and test that it does the right thing or whatever. It’s still a useful package.</p>
<p>And, oddly, <code>rbenv</code> is here… hmm. Maybe <code>pyenv</code> and <code>nodenv</code> are just missing, and not philosophically boycotted.</p>
<p>I’m kind of surprised that <code>terminal-notifier</code> is in here: I thought that was a macOS-specific thing. Maybe it is, and I am not the only person using Nix on macOS.</p>
<p>But yeah, that went very smoothly. Everything mostly just worked. Great experience no notes.</p>
<p>Oh, except for <em>one little thing</em>:</p>
<pre tabindex=0><code>$ nix-env -iA nixpkgs.mercurial
installing 'mercurial-5.6'
these paths will be fetched (3.45 MiB download, 14.95 MiB unpacked):
  /nix/store/7x5s4k57cw0a8nldypmm1y5f763k01kl-mercurial-5.6
copying path '/nix/store/7x5s4k57cw0a8nldypmm1y5f763k01kl-mercurial-5.6' from 'https://cache.nixos.org'...
Assertion failed: (size_ &lt; capacity_), function push_back, file src/libexpr/attr-set.hh, line 54.
[1]    1968 abort      nix-env -iA nixpkgs.mercurial
</code></pre><p>Oh dear. Mercurial is not some weird obscure package, either. It’s… it’s a pretty big one. I find a GitHub issue opened (at time of writing) <em>20 days ago</em>:</p>
<p><a href=https://github.com/NixOS/nixpkgs/issues/112465>https://github.com/NixOS/nixpkgs/issues/112465</a></p>
<p>Yikes. Yikes. Okay. So that’s not great.</p>
<p>I am using the “unstable” Nixpkgs channel, but I didn’t <em>choose</em> to live life on the edge. That’s just the default thing that you get when you install Nix!</p>
<p>So… well, yep, I guess that’s a pretty well-named channel. But <em>20 days</em> of instability is pretty surprising. I have no idea what the error means, or what I would do to fix it. I’m not even trying to build it! I just want to download it from the cache!</p>
<aside>
<p>Hi. Ian here. It’s been me the whole time, but now it’s me from a different timeline. An older, wiser me. See, I wrote this post on February 28, but due to the magic of <em>queuing</em> I didn’t publish it until March 17. So it’s now been, like, a month and a half since this bug was reported in Nixpkgs, and you still can’t install <code>mercurial</code> using the default Nix installation. Which is not great.</p>
<p>But if you actually clicked the link above, you might have noticed that someone <em>cool</em> and <em>handsome</em> merged a commit into the <code>2.3-maintenance</code> branch to address the underlying issue. I’m not sure when <code>nix-2.3.11</code> is supposed to come out, but when it does the issue should magically disappear.</p>
</aside>
<aside>
<p><em>Science fiction laser noises play. The silhouette of a cool and handsome person is barely visible through the smoke. He steps forward.</em></p>
<p>Hi. Ian here again. It’s the future now, and 2.3.11 came out on May 14, 2021. Which is in your past. So… go forth, and install <code>mercurial</code> to your heart’s content. Nothing can stop you now.</p>
</aside>
<p>So I cannot get rid of Homebrew completely.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> But I uninstall everything I can, and my <code>brew list</code> is now just:</p>
<pre><code>autoconf
mercurial
nodenv
pkg-config
python@3.9
sqlite
xz
gdbm
node-build
openssl@1.1
pyenv
readline
tcl-tk
</code></pre>
<p>Everything left there is a dependency of <code>mercurial</code>, <code>nodenv</code>, or <code>pyenv</code>. That is the <em>closure</em> of those packages, if you will. Did I do it? Did I use the words?</p>
<p><code>zsh</code> is a little interesting, since I use that as my login shell. So I’ll have to figure that out.<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></p>
<p>How do I print out the path to a Nix package? I want to see the path to <code>zsh</code>. This whole time I’ve just been doing <code>which foo</code>, but <code>which zsh</code> gives me <code>/bin/zsh</code>, so I need to figure out the right way.</p>
<p>I look through <code>nix --help</code> and try a promising command:</p>
<pre tabindex=0><code>$ nix path-info nixpkgs.zsh
/nix/store/bainh95kdn1h0gy5rdayjj7qq15a6q46-zsh-5.8
</code></pre><p>Neat. I add that to <code>/etc/shells</code> so I can use the installation from Nix.</p>
<p>Except… hmm. That’s not gonna work very well for me, is it? If I ever upgrade <code>zsh</code>, I’m going to have a new hash, and it will eventually be garbage-collected, and I will have no login shell.</p>
<p>To be safe, I add it as a GC root. And I guess… I’ll have to manually <code>chsh</code> any time I upgrade <code>zsh</code>? Okay. Seems… tolerable. Definitely not great. But how often can <code>zsh</code> change? No way there will be some critical security vulnerability and I’ll forget that I ever did this.</p>
<p>But alright. I did the thing. I migrated. But that was the easy part.</p>
<h1 id=homebrew-as-she-is-played>homebrew, as she is played</h1>
<p>There’s something that I’ve wanted to do from the very beginning of this series: write – for myself, mostly – a translation table between Homebrew commands and Nix commands. I thought that by the end of the manual I would be able to do this no problem. But that is not actually the case…</p>
<p>I look through <code>zsh_history</code> to see what <code>brew</code> commands I use most frequently. I only have ten thousand total history entries, most of which are not <code>brew</code>, so this is just a sampling of recent usage. But here’s what I see (after filtering out typos and commands that no longer exist):</p>
<pre tabindex=0><code>138 info
135 uninstall
108 install
 63 search
 41 upgrade
 22 list
 19 update
 15 outdated
  7 link
  7 doctor
  5 leaves
  5 cleanup
  4 untap
  3 tap
  3 reinstall
</code></pre><p>Wait. <code>brew leaves</code>? You <em>can</em> list just installed packages? I actually googled this, and couldn’t find it. Boo. I guess that past Ian knew this though, at some point.</p>
<p>Huh. Okay. I take it back. I’m sorry I doubted you, Homebrew.</p>
<p>Anyway: the command I use the most often is <code>info</code>. And… wow.</p>
<p>Off to a bad start.</p>
<p>I don’t know what the Nix equivalent of <code>brew info</code> is.</p>
<p>Umm.</p>
<p>Hmm.</p>
<p>Welp! That’s not great. Nothing in <code>nix --help</code> sounds plausible – no <code>nix show</code> or <code>nix info</code> or anything. <code>nix-env -q</code> sounds sort of maybe like it could do this – I’m looking to do a type of query. <code>man nix-env</code> tells me about <code>--meta</code>:</p>
<pre tabindex=0><code>$ nix-env -qaA nixpkgs.git --meta
git-2.30.0
</code></pre><p>Cool cool thanks? Alright. Oh. I should have kept reading:</p>
<blockquote>
<p>This option is only available with <code>--xml</code> or <code>--json</code>.</p>
</blockquote>
<p>But it’s not an error if you pass it anyway! It’s just silently not what you want! Gross.</p>
<pre><code>$ nix-env -qaA nixpkgs.git --meta --json
</code></pre>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>{</span>
  <span class=nt>"nixpkgs.git"</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"git-2.30.0"</span><span class=p>,</span>
    <span class=nt>"pname"</span><span class=p>:</span> <span class=s2>"git"</span><span class=p>,</span>
    <span class=nt>"version"</span><span class=p>:</span> <span class=s2>"2.30.0"</span><span class=p>,</span>
    <span class=nt>"system"</span><span class=p>:</span> <span class=s2>"x86_64-darwin"</span><span class=p>,</span>
    <span class=nt>"meta"</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>"available"</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
      <span class=nt>"broken"</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
      <span class=nt>"changelog"</span><span class=p>:</span> <span class=s2>"https://raw.githubusercontent.com/git/git/2.30.0/Documentation/RelNotes/2.30.0.txt"</span><span class=p>,</span>
      <span class=nt>"description"</span><span class=p>:</span> <span class=s2>"Distributed version control system"</span><span class=p>,</span>
      <span class=nt>"homepage"</span><span class=p>:</span> <span class=s2>"https://git-scm.com/"</span><span class=p>,</span>
      <span class=nt>"insecure"</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
      <span class=nt>"license"</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>"deprecated"</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
        <span class=nt>"fullName"</span><span class=p>:</span> <span class=s2>"GNU General Public License v2.0"</span><span class=p>,</span>
        <span class=nt>"spdxId"</span><span class=p>:</span> <span class=s2>"GPL-2.0"</span><span class=p>,</span>
        <span class=nt>"url"</span><span class=p>:</span> <span class=s2>"https://spdx.org/licenses/GPL-2.0.html"</span>
      <span class=p>},</span>
      <span class=nt>"longDescription"</span><span class=p>:</span> <span class=s2>"Git, a popular distributed version control system designed to\nhandle very large projects with speed and efficiency.\n"</span><span class=p>,</span>
      <span class=nt>"maintainers"</span><span class=p>:</span> <span class=p>[</span> <span class=err>/*</span> <span class=err>...</span> <span class=err>*/</span> <span class=p>],</span>
      <span class=nt>"name"</span><span class=p>:</span> <span class=s2>"git-2.30.0"</span><span class=p>,</span>
      <span class=nt>"outputsToInstall"</span><span class=p>:</span> <span class=p>[</span>
        <span class=s2>"out"</span>
      <span class=p>],</span>
      <span class=nt>"platforms"</span><span class=p>:</span> <span class=p>[</span> <span class=err>/*</span> <span class=err>...</span> <span class=err>*/</span> <span class=p>],</span>
      <span class=nt>"position"</span><span class=p>:</span> <span class=s2>"/nix/store/q9vdjh5mh5f2cypycbqxdiwls44b1n5i-nixpkgs-21.05pre272788.870dbb751f4/nixpkgs/pkgs/applications/version-management/git-and-tools/git/default.nix:335"</span><span class=p>,</span>
      <span class=nt>"unfree"</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
      <span class=nt>"unsupported"</span><span class=p>:</span> <span class=kc>false</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>Okay. That’s… way too much stuff.</p>
<p>Let’s compare that to <code>brew info git</code>:</p>
<pre tabindex=0><code>$ brew info git
git: stable 2.30.1 (bottled), HEAD
Distributed revision control system
https://git-scm.com
Not installed
From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/git.rb
License: GPL-2.0-only
==&gt; Dependencies
Required: gettext ✘, pcre2 ✘
==&gt; Options
--HEAD
    Install HEAD version
==&gt; Caveats
The Tcl/Tk GUIs (e.g. gitk, git-gui) are now in the `git-gui` formula.
==&gt; Analytics
install: 216,142 (30 days), 554,354 (90 days), 2,371,732 (365 days)
install-on-request: 213,566 (30 days), 547,255 (90 days), 2,290,105 (365 days)
build-error: 0 (30 days)
</code></pre><p>Huh. That actually <em>also</em> looks like way too much stuff.</p>
<p>So it’s worth asking <em>what I care about</em> here. Why do I use <code>brew info</code>? I ponder this for a moment, and come up with a few reasons:</p>
<ul>
<li>to check if a specific package name is the actual thing I want before I install it (i.e. <code>cabal</code> vs <code>cabal-install</code>)</li>
<li>to read the package’s description (usually because I encountered some unfamiliar command in a blog post somewhere: this is a very fast way to find out what it is)</li>
<li>to see what version of the package Homebrew has (especially in the case of compilers and development tools, where I care deeply about the exact version I’m using)</li>
</ul>
<p>Those are the only reasons I can think of. So honestly the first two lines of <code>brew info</code>’s output cover 100% of what I want.</p>
<p>I don’t think I ever really realized that. Turning back to Nix, how can I get those two lines?</p>
<pre tabindex=0><code>$ nix-env -qaA nixpkgs.git --description
git-2.30.0  Distributed version control system
</code></pre><p>Huh. Maybe… that’s all I need? It’s pretty darn close. And it’s only 190% more characters to type than <code>brew info git</code>!</p>
<p>I see there is a <code>meta.longDescription</code>. I would weakly prefer something like this:</p>
<pre tabindex=0><code>$ nix-env -qaA "nixpkgs.$1" --json \
  | jq -r '.[] | .name + " " + .meta.description,
           "",
           (.meta.longDescription | rtrimstr("\n"))'
git-2.30.0 Distributed version control system

Git, a popular distributed version control system designed to
handle very large projects with speed and efficiency.
</code></pre><p>So I add this to <a href=https://ianthehenry.com/posts/sd-my-script-directory/>my script directory</a> as <a href=https://github.com/ianthehenry/sd-nix><code>sd nix info</code></a>, to reduce wear on my fingertips.</p>
<p>Alright. Let’s move on: <code>uninstall</code> and <code>install</code>. I know this:</p>
<pre><code>$ nix-env -iA nixpkgs.git
$ nix-env -e git
</code></pre>
<p><em>Except</em> that the string “git” means a different thing when you use <code>-iA</code> than it does when you use <code>-e</code>.<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup> You <em>install</em> packages by their “Nixpkgs attribute name” or whatever, but you uninstall them by their “name.” You <em>can</em> install by “name” but it takes 30 seconds so you will never do that. There is no way to uninstall by “attribute.”</p>
<p>I understand why this is, now: the attribute path in Nixpkgs is not an <em>intrinsic</em> part of the package. The package doesn’t <em>know</em> that it’s called <code>nixpkgs.git</code>. You could evaluate <code>nixpkgs.git</code> and find its store path, but that wouldn’t work in the case that <code>nixpkgs.git</code> has changed since you installed it (because of <code>nix-channel --update</code>, say, or because you renamed the channel, or whatever).</p>
<p>So like… this is a weird gross problem that Homebrew doesn’t have.</p>
<p>Or does it? Have you ever tried to uninstall a package that has been removed from Homebrew? Or renamed? Or to uninstall a package that was installed with an older version of Homebrew and now you’re getting weird Ruby errors because the format of casks has changed in a backwards-incompatible way?</p>
<p>You haven’t? Oh. Yeah; to be fair it is pretty rare.</p>
<p>As a side note, I really don’t like that <code>nix-env -e foo</code> just silently does nothing of you have a typo, or <a href=https://ianthehenry.com/posts/how-to-learn-nix/command-reference/#nix-env-name-mistake>mix up the two kinds of “name”</a>:</p>
<pre tabindex=0><code>$ nix-env -e foo

$ echo $?
0
</code></pre><p>But I guess… it’s unlikely to cause real problems? It was slightly confusing while I was building and installing my own derivations to “practice” Nix, but I don’t think it would actually be confusing in real life.</p>
<p><code>brew search git</code> is <code>nix search git</code> – <code>nix</code> wins this one hands down. Here’s <code>brew search git</code>:</p>
<pre tabindex=0><code>$ (time brew search git) | head
==&gt; Formulae
bagit
bash-git-prompt
bit-git
cgit
digitemp
easy-git
git
git-absorb
git-annex
brew search git  6.46s user 3.82s system 58% cpu 17.704 total
</code></pre><p>And our challenger:</p>
<pre tabindex=0><code>$ (time nix search git) | head
warning: using cached results; pass '-u' to update the cache
* nixpkgs.act (act-0.2.20)
  Run your GitHub Actions locally

* nixpkgs.argocd (argocd-1.8.5)
  Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes

* nixpkgs.axoloti (axoloti-1.0.12-2)
  Sketching embedded digital audio algorithms.  To fix permissions of the Axoloti USB device node, add a similar udev rule to &lt;literal&gt;services.udev.extraRules&lt;/literal&gt;: &lt;literal&gt;SUBSYSTEM=="usb", ATTR{idVendor}=="16c0", ATTR{idProduct}=="0442", OWNER="someuser", GROUP="somegroup"&lt;/literal&gt;

* nixpkgs.bat (bat-0.17.1)
nix search git  0.90s user 0.05s system 89% cpu 1.063 total
</code></pre><p>Much more useful output – I don’t need to run <code>brew info</code> on all of those to see what they are, and because it’s locally cached, it’s much faster – at the cost of having to invalidate it myself, with which I am totally fine.</p>
<p>Alright. <code>brew upgrade</code> is <code>nix-env -u</code>. Pretty easy.<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup></p>
<p>Where are we now?</p>
<pre tabindex=0><code>138 ✓ info
135 ✓ uninstall
108 ✓ install
 63 ✓ search
 41 ✓ upgrade
 22   list
 19   update
 15   outdated
  7   link
  7   doctor
  5   leaves
  5   cleanup
  4   untap
  3   tap
  3   reinstall
</code></pre><p>Thanks.</p>
<p><code>brew list</code> is… I don’t know.</p>
<p>I want to say <code>nix-env -q</code>, but I now know that that’s actually equivalent to <code>brew leaves</code>. That’s really what I <em>want</em> when I say <code>brew list</code>, though.</p>
<p>It’s nice seeing dependencies as well, I guess, but sort of useless without seeing why they’re there. So I guess:</p>
<pre tabindex=0><code>$ nix-store --query --tree -u ~/.nix-profile/ | head
/nix/store/5cmxacs3grxnyqcc8a58hqg0i2w8xza3-user-environment
+---/nix/store/0drrznwp316knss36m177bk3r3pgj31i-xz-5.2.5-bin
|   +---/nix/store/5y6lcfjghk5kbv4782vi7w79vz60gsyn-bash-4.4-p23
|   |   +---/nix/store/5y6lcfjghk5kbv4782vi7w79vz60gsyn-bash-4.4-p23 [...]
|   +---/nix/store/awgjr2jdyr2gqhkd8nb03yh8bzcg1zci-xz-5.2.5
|       +---/nix/store/awgjr2jdyr2gqhkd8nb03yh8bzcg1zci-xz-5.2.5 [...]
+---/nix/store/1s7qdbi6fprms0hljsx9rq2fwr3fz1gi-nix-2.3.10-man
+---/nix/store/298mjs1y9r3yxri5sjhsqakkzv0arcnx-stack-2.5.1.1
|   +---/nix/store/7r6hlpv7z1myj2nn4lvxmhga3q9s3k8x-libffi-3.3
|   |   +---/nix/store/7r6hlpv7z1myj2nn4lvxmhga3q9s3k8x-libffi-3.3 [...]
</code></pre><p>Is <em>sort of</em>… anything? This is a stretch. I’m going to call it <code>nix-env -q</code> and leave it at that.</p>
<p><code>brew update</code> is <code>nix-channel --update</code>. No; there’s no <code>nix-channel -u</code>, insanely.</p>
<p>And it seems like there’s no good equivalent of <code>brew outdated</code>. I like running <code>brew outdated</code> as a nice way to just see what packages are under active development. I like to read the release notes of, like, <code>git</code> before I upgrade it. There’s <code>nix-env -u --dry-run</code>…</p>
<pre tabindex=0><code>$ nix-env -u --dry-run
(dry run; not doing anything)
upgrading 'python3-3.8.7' to 'python3-3.10.0a4'
these derivations will be built:
  /nix/store/sfkdnpn3klqb7iymg520m33c3pp7zjk0-python3-3.10.0a4.drv
these paths will be fetched (17.86 MiB download, 17.92 MiB unpacked):
  /nix/store/01h4dkp0nyrsw0zawmasxawhfik474ma-Python-3.10.0a4.tar.xz
  /nix/store/9kwzs3pplms8sijf55sdryypzvic4x1s-python-3.x-distutils-C++.patch
  /nix/store/cxnlnh40dvw6ipfq4f9sdba0z2l291iz-python-setup-hook.sh
  /nix/store/glhx09dkz4h6b6gvs42j7nsn2jv7bn3m-readline-6.3p08-dev
  /nix/store/l2gg10pmpcj7awz93yk4q2n5is5y9kjl-nuke-references
</code></pre><p>Compare that to:</p>
<pre tabindex=0><code>$ brew outdated
node-build (4.9.28) &lt; 4.9.31
openssl@1.1 (1.1.1i) &lt; 1.1.1j
pyenv (1.2.22) &lt; 1.2.23
python@3.9 (3.9.1_8) &lt; 3.9.2_1
</code></pre><p>Homebrew wins this one by… a lot. Maybe there’s a way to get better output out of <code>nix</code>, but I can’t really figure anything out myself.</p>
<p>I think that’s all the like… commands that I use on the regular. We’re into weirder territory now:</p>
<pre tabindex=0><code>138 ✓ info
135 ✓ uninstall
108 ✓ install
 63 ✓ search
 41 ✓ upgrade
 22 ✓ list
 19 ✓ update
 15 ✓ outdated
  7   link
  7   doctor
  5   leaves
  5   cleanup
  4   untap
  3   tap
  3   reinstall
</code></pre><p>I don’t know what <code>brew link</code> does. I think it’s a command that I run when Homebrew tells me to and usually means that something has gone very wrong. Maybe? I don’t know.</p>
<p>I love <code>brew doctor</code>. It’s always spewing dozens of problems for me to ignore. I think it’s useful when you’re installing Homebrew for the first time and getting it set up, but I don’t think it’s ever useful ever again. I love warnings like this:</p>
<pre tabindex=0><code>Warning: Unbrewed static libraries were found in /usr/local/lib.
If you didn't put them there on purpose they could cause problems when
building Homebrew formulae, and may need to be deleted.

Unexpected static libraries:
  /usr/local/lib/libcord.a
  /usr/local/lib/libgc.a
</code></pre><p><em>man wouldn’t it be neat if there were a package manager that could isolate builds such that</em></p>
<p>I am surprised to see that there is actually <code>nix doctor</code>:</p>
<pre tabindex=0><code>$ nix doctor
Store uri: local

error: not an absolute path: './node_modules'
</code></pre><p>Ooookay. So just as useful, I guess?</p>
<p>I <em>think</em> it’s trying to complain that I have <code>./node_modules/.bin</code> in my <code>PATH</code>? Which I do so I can invoke my <code>devDependencies</code> when I use <code>npm</code>. It’s never caused a problem before. I don’t know if this is a <em>problem</em> that <code>nix doctor</code> is trying to report or if it’s an <em>error</em> that <code>nix doctor</code> encountered that broke it. So I temporarily remove that from my <code>PATH</code> to re-run it:</p>
<pre tabindex=0><code>$ nix doctor
Store uri: local
</code></pre><p>Okay? Still no idea. It would be nice if it told me what it was doing – what checks I had passed – so that I could feel good about myself. Like when you run <a href=https://www.ssllabs.com/ssltest/>that SSL test thing</a> and it gives you an A+. There’s nothing for you to do, but it feels good to hear, you know?</p>
<p><code>brew cleanup</code> is basically <code>nix-collect-garbage -d</code>. Did you know you needed to manually collect garbage in Homebrew? I remember the first time I ever ran that and it freed up like 8 GB of old cached files or whatever. Good times.</p>
<p><code>brew tap</code> and <code>brew untap</code> are basically <code>nix-channel --add</code> and <code>nix-channel --remove</code>, if I understand them correctly.</p>
<p>And then <code>brew reinstall</code>, which in Nix is just <code>nix-env -i</code> again. I think. Or just uninstall/reinstall. Honestly: not a very important command. I probably have only ever run it out of desperation, and it probably has never fixed the problem I was having.</p>
<p>Okay! And that’s how to use Nix instead of Homebrew.</p>
<p>It’s not as nice! In a lot of ways! And you can’t install <code>hg</code>!</p>
<p>I might make more helpers as time goes on so that I can just type <a href=https://github.com/ianthehenry/sd-nix><code>sd nix install</code></a> or <code>sd nix outdated</code> or whatever, and paper over some of the major UI problems that way. <code>sd nix info</code> has already been pretty nice to have, in the time between writing this post and publishing it.</p>
<p>Maybe every Nix user ever ends up doing this, and that’s why the UI is, you know, the way that it is.</p>
<p>Anyway, I’m going to try using Nix as my package manager for a little while and see what happens. I will report back if anything exciting happens.</p>
<hr>
<ul>
<li>Is there a better way to see outdated packages?</li>
<li>How <em>should I</em> install my login shell with Nix?</li>
<li>What happens if two packages produce outputs with the same name? Like what if I install <code>/nix/store/foo-1.0/bin/foo</code> and <code>/nix/store/bar-1.0/bin/foo</code> – what ends up in <code>~/.nix-profile/bin/foo</code>?</li>
</ul>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>Of course, I’ve never needed to know anything about Homebrew to use Homebrew, because Homebrew just kinda works most of the time.&nbsp;<a href=#fnref:1 class=footnote-backref role=doc-backlink>↩︎</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p>I also use lots of Homebrew casks, and I don’t bother trying to replace those in Nix – that’s why you don’t see <code>emacs</code> in that list. So I wouldn’t get to uninstall Homebrew anyway. how dare you suggest that i don’t use <code>emacs</code>&nbsp;<a href=#fnref:2 class=footnote-backref role=doc-backlink>↩︎</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p>No way did I only think of this <em>after</em> uninstalling my current login shell and having to scramble to get a working terminal again so I could reinstall it. I definitely thought of it ahead of time because I’m very conscientious.&nbsp;<a href=#fnref:3 class=footnote-backref role=doc-backlink>↩︎</a></p>
</li>
<li id=fn:4 role=doc-endnote>
<p>Yes, I used <code>-e</code> instead of <code>--uninstall</code>. I came up with a mnemonic to remember the short version: “<code>-i</code> before <code>-e</code>.” Cute, right?&nbsp;<a href=#fnref:4 class=footnote-backref role=doc-backlink>↩︎</a></p>
</li>
<li id=fn:5 role=doc-endnote>
<p>How naïve I was. Yes, <code>nix-env -u</code> exists. And it <em>might</em> even work, for some packages. But if you’re using the Nixpkgs repository, <code>nix-env -u</code> is basically useless. See <a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-package-upgrade/>My first package upgrade</a>, in which I first encounter its failings, <a href=https://ianthehenry.com/posts/how-to-learn-nix/python3-alpha/>How to install Python</a>, in which I learn <em>why</em> it doesn’t work, and <a href=https://ianthehenry.com/posts/how-to-learn-nix/ambiguous-packages/>Ambiguous packages</a>, in which I discover just how deeply broken it really is. Or see <a href=https://ianthehenry.com/posts/how-to-learn-nix/declarative-user-environment/>Setting up a declarative user environment</a> for a simple alternative that works the way you want it to, and that I have been using without issue since writing that post.&nbsp;<a href=#fnref:5 class=footnote-backref role=doc-backlink>↩︎</a></p>
</li>
</ol>
</section></div>
</article>
<div class=post-footer>
<a href="mailto:ianthehenry@gmail.com?subject=let%27s%20talk%20about%20%22Switching%20from%20Homebrew%20to%20Nix%22&amp;body=First%20of%20all,%20I%20just%20wanted%20to%20say%20that%20I%20forgive%20you%20for%20not%20having%20a%20real%20comment%20system%20on%20your%20site.">comment on this post</a><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-nix-bug/>Next up ➜ My first Nix bug</a></div>
<aside class=series-rider>
<p>
This post is part of the series <a class=series-name href=https://ianthehenry.com/posts/how-to-learn-nix/>How to Learn Nix</a>.
You can
<a target=_blank href=https://ianthehenry.com/feed.xml>subscribe to my RSS feed</a>
or
<a target=_blank href=https://twitter.com/ianthehenry>follow me on Twitter</a>
for more, or <a href=https://ianthehenry.com/posts/>peruse my back catalog</a> if you're in the mood for something different.
<div class=subsection-header>Opening remarks</div><ol start=1 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/introduction/>What's all this about?</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/prior-knowledge/>Prior knowledge</a></li>
</ol><div class=subsection-header>Reading the Nix manual</div><ol start=3 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/glossary/>What we talk about when we talk about Nix</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/quick-start-guide/>Quick starts, full hearts</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/basic-package-management/>Basic package management</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/profiles/>Profiles</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/garbage-collection/>Garbage collection</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/channels/>Channels</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/sharing/>Learning to share</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-derivation/>My first derivation</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/okay-my-actual-first-derivation/>Okay my actual first derivation</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-language/>The Nix expression language</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/derivations/>Derivations</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/built-in-functions/>Built-in Functions</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/advanced-topics/>Advanced Topics</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/command-reference/>Command Reference</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/configuration/>Configuration</a></li>
</ol><div class=subsection-header>Interlude: in which we follow our hearts, however briefly</div><ol start=18 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-manual-reflection/>So I read the manual huh</a></li>
<li><strong><a href=https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/>Switching from Homebrew to Nix</a></strong>&nbsp;←&nbsp;you are here</li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-nix-bug/>My first Nix bug</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/my-first-package-upgrade/>My first package upgrade</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/declarative-user-environment/>Setting up a declarative user environment</a></li>
</ol><div class=subsection-header>Reading the Nixpkgs manual</div><ol start=23 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/how-to-learn-nixpkgs/>How to learn Nixpkgs</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/overlays/>Overlays</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/overriding/>Overriding</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/an-infinite-list-of-functions/>An infinite list of functions</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/even-more-functions-somehow/>Even more functions, somehow</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/the-standard-environment/>The standard environment</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/derivations-in-detail/>Derivations in detail</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/cross-compilation/>Cross-compilation</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/platform-notes/>Platform notes</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/builders/>Builders</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/languages-and-frameworks/>Languages and frameworks</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/random-package-grab-bag/>Random package grab-bag</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/how-to-give-back/>How to give back</a></li>
</ol><div class=subsection-header>Documentation behind us, we set out on our own</div><ol start=36 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nixpkgs-reflection/>So I read the other manual, huh</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/saving-your-shell/>Saving your shell</a></li>
</ol><div class=subsection-header>Oh right forgot about Nix Pills</div><ol start=38 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-pills/>Nix Pills</a></li>
</ol><div class=subsection-header>Our whole lives ahead of us</div><ol start=39 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/python3-alpha/>How to install Python</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/open-questions/>Open questions</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/ambiguous-packages/>Ambiguous packages</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-zshell/>Running zsh in nix-shell</a></li>
</ol><div class=subsection-header>Nix 2.4 slithers to life</div><ol start=43 class=post-list><li><a href=https://ianthehenry.com/posts/how-to-learn-nix/flakes/>My first brush with flakes</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/more-flakes/>More flakes, unfortunately</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/new-profiles/>Fancy new profiles</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/chipping-away-at-flakes/>Chipping away at flakes</a></li>
<li><a href=https://ianthehenry.com/posts/how-to-learn-nix/nix-develop/>New and unimproved shells</a></li>
</ol>
</aside>
</main>
<footer>
© 1899-1907 <a href=https://ianthehenry.com/about/>Ian Henry</a>
</footer>
